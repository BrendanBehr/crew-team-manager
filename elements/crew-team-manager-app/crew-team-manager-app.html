<link rel="import" href="../../bower_components/polymer/polymer-element.html">

<link rel="import" href="../../bower_components/iron-pages/iron-pages.html">
<link rel="import" href="../../bower_components/iron-flex-layout/iron-flex-layout.html">

<link rel="import" href="../crew-team-manager-login/crew-team-manager-login.html">
<link rel="import" href="../crew-team-manager-stage/crew-team-manager-stage.html">

<dom-module id="crew-team-manager-app">
    <template>
        <style>
             :host {
                @apply(--layout-horizontal);
                background-color: blue;
            }

            #pages {
                @apply(--layout-horizontal);
                @apply(--layout-flex);
            }

            #login {
                @apply(--layout-flex);
            }

            #stage {
                @apply(--layout-flex);
            }
        </style>

        <iron-pages id="pages" attr-for-selected="id" selected="[[_page]]">
            <crew-team-manager-login id="login" on-crew-team-manager-login-action-login="_handleActionLogin"></crew-team-manager-login>
            <crew-team-manager-stage id="stage"></crew-team-manager-stage>
        </iron-pages>


    </template>

    <script>
        // Extend Polymer.Element with MyMixin
        class crewTeamManagerApp extends Polymer.Element {

            static get is() { return 'crew-team-manager-app' }

            static get properties() {
                return {
                    _page: {
                        type: String,
                        value: 'stage'
                    }
                }
            }
            connectedCallback() {

                super.connectedCallback();
                // this.$.logoutBtn.hidden = true;

            }

            _handleActionLogin() {
                this._page = 'stage';
            }

            // login() {
            //     console.log('login');
            //     const elem = this.selected && this.selected.nextElementSibling;
            //     if (elem) {
            //         console.log('reached?');
            //         this.selected = elem;
            //     }
            //     this.$.logoutBtn.disabled = false;
            //     this.$.logoutBtn.hidden = false;

            //     this.$.loginBtn.disabled = true;
            //     this.$.loginBtn.hidden = true;

            //     let pages = this.$.pages;
            //     pages.selectNext();
            // }

            // logout() {
            //     console.log('logout');
            //     const elem = this.selected && this.selected.previousElementSibling;
            //     if (elem) {
            //         this.selected = elem;
            //     }
            //     this.$.logoutBtn.disabled = true;
            //     this.$.logoutBtn.hidden = true;

            //     this.$.loginBtn.disabled = false;
            //     this.$.loginBtn.hidden = false;
            //     let pages = this.$.pages;
            //     pages.selectPrevious();
            // }

        }

        // Register custom element definition using standard platform API
        customElements.define(crewTeamManagerApp.is, crewTeamManagerApp);
    </script>
</dom-module>